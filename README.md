# å°è¯´å‘å¸ƒç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Next.js 14 + TypeScript + Tailwind CSS + shadcn/ui çš„é™æ€å°è¯´å‘å¸ƒå¹³å°ï¼Œæ”¯æŒéƒ¨ç½²åˆ° Cloudflare Pagesã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ“š æ”¯æŒå¤šéƒ¨å°è¯´ç®¡ç†
- ğŸ“– ä¼˜é›…çš„é˜…è¯»ä½“éªŒ
- ğŸŒ“ å¤šç§é˜…è¯»ä¸»é¢˜ï¼ˆæ˜äº®/æš—é»‘/æŠ¤çœ¼ï¼‰
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ‰‹æœº/å¹³æ¿/ç”µè„‘
- ğŸ’¾ è‡ªåŠ¨ä¿å­˜é˜…è¯»è¿›åº¦
- âš¡ é™æ€ç”Ÿæˆï¼ŒåŠ è½½é€Ÿåº¦å¿«
- ğŸš€ æ”¯æŒ Cloudflare Pages éƒ¨ç½²

## å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—® http://localhost:3000
```

### æ·»åŠ æ–°å°è¯´

1. åœ¨ `public/stories/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å°è¯´æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ `002-å°è¯´åç§°/`
2. æ·»åŠ  `story.md` æ–‡ä»¶ï¼ŒåŒ…å«å°è¯´ä¿¡æ¯
3. åœ¨ `chapters/` ç›®å½•ä¸‹æŒ‰å·ç»„ç»‡ç« èŠ‚æ–‡ä»¶
4. ç›®å½•ç»“æ„ç¤ºä¾‹ï¼š

```
public/stories/
â”œâ”€â”€ 001-å¤§æ˜é£åå½•/
â”‚   â”œâ”€â”€ story.md          # å°è¯´ä¿¡æ¯
â”‚   â””â”€â”€ chapters/
â”‚       â”œâ”€â”€ volume-1/      # ç¬¬ä¸€å·
â”‚       â”‚   â”œâ”€â”€ chapter-001.md
â”‚       â”‚   â””â”€â”€ chapter-002.md
â”‚       â””â”€â”€ volume-2/      # ç¬¬äºŒå·
â””â”€â”€ 002-å¦ä¸€éƒ¨å°è¯´/
    â””â”€â”€ ...
```

### éƒ¨ç½²åˆ° Cloudflare Pages

#### æ–¹æ³•ä¸€ï¼šé€šè¿‡ Git è‡ªåŠ¨éƒ¨ç½²

1. å°†é¡¹ç›®æ¨é€åˆ° GitHub/GitLab
2. ç™»å½• [Cloudflare Pages](https://pages.cloudflare.com/)
3. ç‚¹å‡» "Create a project"
4. è¿æ¥ä½ çš„ Git ä»“åº“
5. é…ç½®æ„å»ºè®¾ç½®ï¼š
   - Build command: `npm run build`
   - Build output directory: `out`
   - Node version: 18 æˆ–æ›´é«˜
6. ç‚¹å‡» "Save and Deploy"

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# æ„å»ºé¡¹ç›®
npm run build

# ä½¿ç”¨ Cloudflare Wrangler CLI éƒ¨ç½²
npx wrangler pages deploy out --project-name=my-novel-site
```

## é¡¹ç›®ç»“æ„

```
damingfenghua/
â”œâ”€â”€ app/                   # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ page.tsx          # é¦–é¡µ - å°è¯´åˆ—è¡¨
â”‚   â””â”€â”€ novels/
â”‚       â””â”€â”€ [novelId]/
â”‚           â”œâ”€â”€ page.tsx  # å°è¯´è¯¦æƒ…é¡µ
â”‚           â””â”€â”€ chapters/
â”‚               â””â”€â”€ [volumeId]/
â”‚                   â””â”€â”€ [chapterNumber]/
â”‚                       â””â”€â”€ page.tsx  # ç« èŠ‚é˜…è¯»é¡µ
â”œâ”€â”€ components/           # React ç»„ä»¶
â”‚   â””â”€â”€ novel/
â”‚       â”œâ”€â”€ NovelCard.tsx
â”‚       â”œâ”€â”€ ChapterList.tsx
â”‚       â””â”€â”€ ChapterReader.tsx
â”œâ”€â”€ lib/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types.ts         # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ novels.ts        # å°è¯´æ•°æ®å¤„ç†
â”‚   â”œâ”€â”€ markdown.ts      # Markdown è§£æ
â”‚   â””â”€â”€ storage.ts       # æœ¬åœ°å­˜å‚¨ç®¡ç†
â””â”€â”€ public/
    â””â”€â”€ stories/         # å°è¯´æ–‡ä»¶ç›®å½•
```

## å°è¯´æ–‡ä»¶æ ¼å¼

### story.md ç¤ºä¾‹

```markdown
# å°è¯´ï¼šæˆ‘çš„å°è¯´åç§°

## åŸºæœ¬ä¿¡æ¯
- **ç±»å‹**ï¼šç„å¹»/éƒ½å¸‚/å†å²ç­‰
- **å­—æ•°ç›®æ ‡**ï¼š80ä¸‡å­—
- **ç›®æ ‡è¯»è€…**ï¼šç›®æ ‡è¯»è€…æè¿°
- **åˆ›ä½œçŠ¶æ€**ï¼šè¿è½½ä¸­/å·²å®Œç»“

## æ•…äº‹å†…æ ¸

### ä¸€å¥è¯æ•…äº‹
è¿™é‡Œæ˜¯ä¸€å¥è¯æè¿°ä½ çš„æ•…äº‹...
```

### ç« èŠ‚æ–‡ä»¶æ ¼å¼

æ¯ä¸ªç« èŠ‚æ–‡ä»¶ï¼ˆå¦‚ `chapter-001.md`ï¼‰çš„ç¬¬ä¸€è¡Œåº”è¯¥æ˜¯ç« èŠ‚æ ‡é¢˜ï¼š

```markdown
# ç¬¬ä¸€ç«  ç« èŠ‚æ ‡é¢˜

ç« èŠ‚æ­£æ–‡å†…å®¹...
```

## é…ç½®è¯´æ˜

### next.config.js

å·²é…ç½®ä¸ºé™æ€å¯¼å‡ºæ¨¡å¼ï¼Œé€‚åˆéƒ¨ç½²åˆ° Cloudflare Pagesï¼š

```javascript
module.exports = {
  output: 'export',
  images: {
    unoptimized: true,
  },
  trailingSlash: true,
}
```

## è®¸å¯è¯

MIT